@inherits RocketContentAPI.Components.RocketContentAPITokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI.Components;
@using RocketContentAPI.Components;
@using Simplisity;
@using RazorEngine.Text;
@using RocketPortal.Components;

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/RocketPortal/App_LocalResources/")

@{
    var sessionParams = Model.SessionParamsData;
    var moduleData = (ModuleContentLimpet)Model.GetDataObject("modulesettings");
    var portalData = (PortalLimpet)Model.GetDataObject("portaldata");
    var appTheme = (AppThemeLimpet)Model.GetDataObject("apptheme");
    var userParams = new UserParams("ModuleID:" + sessionParams.ModuleId, true);
    var rtnUrl = userParams.Get("viewurl");
}

<div id="a-articledata" class=" w3-padding">

    <div class=" w3-margin-bottom w3-border-bottom">
        <div class="w3-bar w3-padding">
            <a href="@rtnUrl" class="w3-padding w3-button w3-black " style="text-decoration:none;" onclick="$('.simplisity_loader').show();">
                <span class="w3-hide-small">
                    @ButtonText(ButtonTypes.back)
                </span>
                <span class="w3-hide-medium w3-hide-large">
                    @ButtonIcon(ButtonTypes.back)
                </span>
            </a>
        </div>
    </div>

    @RenderTemplate("AdminList.cshtml", appTheme, Model, true)


</div>

<div class="w3-row w3-tiny w3-padding">
    <span>ModuleId: @moduleData.ModuleId</span>
    <span>TabId: @moduleData.TabId</span>
</div>

<script>
    $(document).ready(function () {
        $(document).simplisityStartUp('/Desktopmodules/dnnrocket/api/rocket/action', { systemkey: 'rocketforms', debug: false });

        $('.simplisity_loader').hide();

    });
</script>
